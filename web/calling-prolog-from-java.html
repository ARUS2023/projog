<p>
As well as interacting with Projog using the console application it is also possible to embed Projog in your Java applications.
The steps required for applications to interact with Projog are as follows:
<ul>
<li>Create a new <a href="javadoc/org/projog/api/Projog.html" title="class in org.projog.api"><code>Projog</code></a> instance.</li>
<li>Load in clauses and facts using <a href="javadoc/org/projog/api/Projog.html#consultFile(java.io.File)"><code>Projog.consultFile(File)</code></a> or <a href="javadoc/org/projog/api/Projog.html#consultReader(java.io.Reader)"><code>Projog.consultReader(Reader)</code></a>.</li>
<li>Create a <a href="javadoc/org/projog/api/QueryStatement.html" title="class in org.projog.api"><code>QueryStatement</code></a> by using <a href="javadoc/org/projog/api/Projog.html#query(java.lang.String)"><code>Projog.query(String)</code></a>.</li>
<li>Create a <a href="javadoc/org/projog/api/QueryResult.html" title="class in org.projog.api"><code>QueryResult</code></a> by using <a href="javadoc/org/projog/api/QueryStatement.html#getResult()"><code>QueryStatement.getResult()</code></a>.</li>
<li>Iterate through all possible solutions to the query by using <a href="javadoc/org/projog/api/QueryResult.html#next()"><code>QueryResult.next()</code></a>.</li>
<li>For each solution get the <a href="javadoc/org/projog/core/term/Term.html" title="interface in org.projog.core.term"><code>Term</code></a> instantiated to a <a href="javadoc/org/projog/core/term/Variable.html" title="class in org.projog.core.term"><code>Variable</code></a> in the query by calling <a href="javadoc/org/projog/api/QueryResult.html#getTerm(java.lang.String)"><code>QueryResult.getTerm(String)</code></a>.</li>
</ul>
</p>

<h3>Example usage</h3>

<p>
Contents of <code>org/projog/example/ProjogExample.java</code>:
</p>

<div class="code"><code>package org.projog.example;<br>
<br>
import java.io.File;<br>
<br>
import org.projog.api.Projog;<br>
import org.projog.api.QueryResult;<br>
import org.projog.api.QueryStatement;<br>
import org.projog.core.term.Atom;<br>
<br>
public class ProjogExample {<br>
&nbsp;&nbsp;&nbsp;public static void main(String[] args) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Projog p = new Projog();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p.consultFile(new File("test.pl"));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueryStatement s1 = p.query("test(X,Y).");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueryResult r1 = s1.getResult();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (r1.next()) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("X = " + r1.getTerm("X") + " Y = " + r1.getTerm("Y"));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueryResult r2 = s1.getResult();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r2.setTerm("X", new Atom("d"));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (r2.next()) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("Y = " + r2.getTerm("Y"));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueryStatement s2 = p.query("testRule(X).");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueryResult r3 = s2.getResult();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (r3.next()) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("X = " + r3.getTerm("X"));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueryStatement s3 = p.query("test(X, Y), Y&lt;3.");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueryResult r4 = s3.getResult();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (r4.next()) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("X = " + r4.getTerm("X") + " Y = " + r4.getTerm("Y"));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;}<br>
}</code></div>

<p>
Contents of <code>test.pl</code>:
</p>

<div class="code">
<pre>
test(a,1).
test(b,2).
test(c,3).
test(d,4).
test(e,5).
test(f,6).
test(g,7).
test(h,8).
test(i,9).

testRule(X) :- test(X, Y), Y mod 2 =:= 0.
</pre>
</div>

<p>
Compiling <code>org/projog/example/ProjogExample.java</code>:
</p>

<pre>javac -cp projog-core.jar;. org/projog/example/ProjogExample.java</pre>

<p>
Running <code>org.projog.example.ProjogExample</code>:
</p>

<pre>java -cp projog-core.jar;projogGeneratedClasses;. org.projog.example.ProjogExample</pre>

The <code>projogGeneratedClasses</code> directory will be used to store classes generated by Projog at runtime. It must already exist before the program starts. The directory that Projog uses to store class files can be configured using the <code>projog.generatedClasses</code> system property. See <a href="javadoc/org/projog/core/ProjogSystemProperties.html" title="class in org.projog.core"><code>ProjogSystemProperties</code></a> for details of all the Projog system properties.
 
<p>
Output of running <code>org.projog.example.ProjogExample</code>:
</p>

<div class="code">
<pre>
X = a Y = 1
X = b Y = 2
X = c Y = 3
X = d Y = 4
X = e Y = 5
X = f Y = 6
X = g Y = 7
X = h Y = 8
X = i Y = 9
Y = 4
X = b
X = d
X = f
X = h
X = a Y = 1
X = b Y = 2
</pre>
</div>
